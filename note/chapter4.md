# 第4章 レイアウトとページの作成

これまでのところ、あなたのアプリケーションにはホームページしかありません。レイアウトとページでより多くのルートを作る方法を学びましょう。

## この章では...

この章で扱うトピックは次のとおりです

* ファイルシステムルーティングを使ってダッシュボードのルートを作る
* 新しいルートセグメントを作成するときのフォルダとファイルの役割を理解する。
* 複数のダッシュボードページ間で共有できるネストされたレイアウトを作成する。
* コロケーション、部分レンダリング、ルートレイアウトの意味を理解する。

## ネストされたルーティング
Next.jsでは、ネストされたルートを作成するためにフォルダを使用するファイルシステムルーティングを使用しています。各フォルダはURLセグメントにマッピングされたルートセグメントを表します。

![ファイルシステムルーティング](./images/image3.png)

layout.tsxファイルとpage.tsxファイルを使用して、ルートごとに個別のUIを作成できます。

page.tsxは、Reactコンポーネントをエクスポートする特別なNext.jsファイルで、ルートにアクセスするために必要です。アプリケーションには、すでにpageファイルがあります： /これはルート/に関連付けられたホームページです。

ネストされたルートを作成するには、フォルダ同士をネストし、その中にpage.tsxファイルを追加します。

例えば

![ネストされたルート](./images/image4.png)

/app/dashboard/page.tsxは/dashboardパスに関連付けられます。どのように動作するか、ページを作成してみましょう！

## ダッシュボードページの作成
appの中にdashboardという新しいフォルダを作成します。そして、dashboardフォルダの中に以下の内容で新しいpage.tsxファイルを作成します

```tsx
// app/dashboard/page.tsx


export default function Page() {
  return <p>Dashboard Page</p>;
}
```
開発用サーバーが起動していることを確認してください。
http://localhost:3000/dashboard

「Dashboard Page」というテキストが表示されるはずです。

このようにして、Next.jsでさまざまなページを作成することができます。フォルダを使用して新しいルートセグメントを作成し、その中にページファイルを追加します。

ページファイルに特別な名前をつけることで、Next.jsはUIコンポーネント、テストファイル、その他の関連コードをルートと一緒に配置することができます。ページファイル内のコンテンツだけが一般公開されます。たとえば、/uiフォルダと/libフォルダは、ルートとともに/appフォルダ内に配置されます。

## 練習 ダッシュボードページの作成
さらにルートを作る練習をしましょう。ダッシュボードに、さらに2つのページを作成します

1. 顧客ページ： このページは http://localhost:3000/dashboard/customers にアクセスできるようにする。今のところ、`<p>Customers Page</p>` 要素を返してください。
2. 請求書ページ： 請求書ページは http://localhost:3000/dashboard/invoices にアクセスできるようにする。今のところ、`<p>請求書ページ</p>` 要素も返してください。

このエクササイズに時間をかけて取り組み、準備ができたら、下のトグルを展開して解決策をご覧ください。

以下のようなフォルダ構成になっているはずだ。

![フォルダ構成](./images/image5.png)

```tsx
// app/dashboard/customers/page.tsx


export default function Page() {
  return <p>Customers Page</p>;
}
```

```tsx
// app/dashboard/invoices/page.tsx


export default function Page() {
  return <p>Invoices Page</p>;
}
```
